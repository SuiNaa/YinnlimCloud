<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¶æ¬¾è¡¨å–®</title>
      <style>
    body {
      background-color: #fff0f5;
      font-family: "Noto Sans TC", sans-serif;
      padding: 30px;
      color: #444;
    }

    .form-box {
      max-width: 500px;
      margin: auto;
      background-color: #ffffff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    }

    h2 {
      color: #ff66aa;
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin: 12px 0 6px;
      font-weight: bold;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }

    .submit-btn {
      background-color: #ff88aa;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px;
      margin-top: 20px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }

    .submit-btn:hover {
      background-color: #ff5c8a;
    }

    .error-msg {
      color: red;
      font-size: 14px;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>
<body>

  <div class="form-box">
    <h2>ğŸ§¾ å¡«å¯«æ”¶æ¬¾è³‡è¨Š</h2>
    <!-- ğŸ’Œ è¡¨å–®å€å¡Š -->
<form id="paymentForm" method="POST">
  <!-- ğŸ§ª é€™æ˜¯ Web3Forms çš„ Access Keyï¼ˆè«‹å¡«å…¥ä½ è‡ªå·±çš„ï¼‰ -->
  <input type="hidden" name="access_key" value="829714a3-2f6c-42ad-b7af-eb56db42e372" />
      <label>å§“å / æš±ç¨±</label>
      <input type="text" name="name" required>

      <label>è¡Œå‹•é–€è™Ÿ / é›»è©±è™Ÿç¢¼</label>
      <input type="tel" name="phone" required>

      <label>é›»å­éƒµä»¶</label>
      <input type="email" name="email" required>

      <label>åœ‹å®¶</label>
      <input type="text" name="country" required>

      <label>çœ / å·</label>
      <input type="text" name="province" required>

      <label>å¸‚</label>
      <input type="text" name="city" required>

      <label>ç¸£ / å€</label>
      <input type="text" name="district" required>

      <label>è©³ç´°åœ°å€</label>
      <input type="text" name="address" required>

 <form id="paymentForm" method="POST">
  <!-- å…¶ä»–æ¬„ä½ä¾‹å¦‚å§“åã€åœ°å€... -->

  <label>å•†å“åç¨±</label>
  <input type="text" id="productInput" name="product" readonly>

  <label>å•†å“åƒ¹æ ¼</label>
  <input type="text" id="priceInput" name="price" readonly>

  <label>å•†å“è¦æ ¼</label>
  <input type="text" id="specInput" name="specification" readonly>

  <button type="submit" class="submit-btn">é€å‡ºè¨‚å–® ğŸ’–</button>
</form>
      <div class="error-msg" id="errorMsg">âš ï¸ è«‹å®Œæ•´å¡«å¯«è¡¨å–®ä»¥é€²è¡Œè³¼è²·ã€‚</div>
    </form>
  </div>
</form>
<!--æŠ“å–è¦æ ¼-->
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const spec = urlParams.get("spec");
  if (spec) {
    document.getElementById("specInput").value = decodeURIComponent(spec);
  }
</script>
<!--æ”¶æ¬¾ç¢¼è£å€-->
<div id="qrcode" style="display:none; text-align:center;">
  <p>è«‹æƒæä¸‹æ–¹æ”¶æ¬¾ç¢¼é€²è¡Œä»˜æ¬¾</p>
  <img src="åœ–ç‰‡/æ”¶æ¬¾.JPG" alt="æ”¶æ¬¾ç¢¼" style="width:200px;">
  <p>å•†å“ç™¼è²¨å¾Œæˆ‘å€‘æœƒé€ééƒµä»¶æˆ–ç°¡è¨Šé€šçŸ¥æ‚¨ğŸ“¦</p>
</div>
<!--çµæŸ-->

<p>è«‹æƒç¢¼ä»˜æ¬¾å®Œæˆå¾Œï¼Œé»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼š</p>
<button onclick="goHome()">âœ… æˆ‘å·²å®Œæˆä»˜æ¬¾</button>

<script>
  function goHome() {
    // ä½ å¯ä»¥é€™è£¡å…ˆé¡¯ç¤ºæç¤ºï¼Œæˆ–æª¢æŸ¥å¿…å¡«è³‡æ–™æ˜¯å¦å®Œæˆ
    alert("æ„Ÿè¬æ‚¨çš„è³¼è²·ï¼Œæˆ‘å€‘æœƒç›¡å¿«è¯ç¹«æ‚¨ ğŸ§¸");
    window.location.href = ".././Store.html"; // è·³è½‰åˆ°ä¸»é 
  }
</script>
    <!--è¡¨å–®æ§åˆ¶-->
  <script>
    document.getElementById('paymentForm').addEventListener('submit', function(event) {
      if (!this.checkValidity()) {
        event.preventDefault();
        document.getElementById('errorMsg').style.display = 'block';
      }
    });
    <!--åç¨±èˆ‡åƒ¹æ ¼ç¶å®š-->
  function updatePrice() {
    const select = document.getElementById("product-select");
    const selectedOption = select.options[select.selectedIndex];
    const price = selectedOption.getAttribute("data-price");
    
    document.getElementById("price-field").value = price ? `CNY${price}` : "";
  }
  </script>
     <!--é€£æ¥é€ä¿¡è»Ÿé«”-->
    <script>
document.getElementById("paymentForm").addEventListener("submit", function (e) {
  e.preventDefault(); // é˜»æ­¢è¡¨å–®è‡ªå‹•æäº¤èˆ‡åˆ·æ–°

  const form = e.target;
  const formData = new FormData(form);

  // âœ… åŸºæœ¬æ¬„ä½é©—è­‰ï¼ˆè¦–æƒ…æ³åŠ ï¼‰
  if (!form.name.value || !form.phone.value || !form.email.value) {
    alert("è«‹å¡«å¯«å®Œæ•´è³‡è¨Šå†æäº¤ï¼");
    return;
  }

  // âœ… ä½¿ç”¨ Web3Forms API æäº¤
  fetch("https://api.web3forms.com/submit", {
    method: "POST",
    body: formData
  })
  .then(response => {
    if (response.ok) {
      document.getElementById("qrcode").style.display = "block";  // é¡¯ç¤ºæ”¶æ¬¾ç¢¼å€
      form.style.display = "none";  // éš±è—è¡¨å–®
    } else {
      alert("æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼");
    }
  })
  .catch(() => {
    alert("ç¶²è·¯éŒ¯èª¤ï¼Œè«‹é‡è©¦ä¸€æ¬¡ï¼");
  });
});
<!--åƒ¹æ ¼èˆ‡åç¨±æŠ“å–-->
  window.onload = function () {
    let urlParams = new URLSearchParams(window.location.search);
    let product = urlParams.get("product");
    let price = urlParams.get("price");
    let spec = urlParams.get("spec");

    if (product) {
      document.getElementById("productInput").value = decodeURIComponent(product);
    }

    if (price) {
      document.getElementById("priceInput").value = `CNÂ¥${decodeURIComponent(price)}`;
    }

    if (spec) {
      document.getElementById("specInput").value = decodeURIComponent(spec);
    }
  };
</script>
<p style="text-align: center; font-size: 13px; color: #999; margin-top: 40px;">
  ğŸ¾ Â© 2024 yinnlimçš„å°å®‡å®™ï½œå…§å®¹èˆ‡è¨­è¨ˆçš†ç”±ç³–ç³–æœ¬äººç”¨æ„›è£½ä½œ ğŸ’<br>
  æœªç¶“æˆæ¬Šè«‹å‹¿éš¨æ„ä½¿ç”¨ã€ç›œè½‰å–” ğŸ™…â€â™€ï¸ è¬è¬ä½ çš„å°Šé‡èˆ‡æº«æŸ” ğŸ’Œ
</p>
</body>
</html>