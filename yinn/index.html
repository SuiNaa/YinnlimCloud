<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="æ›¦èŠ±æ—æ˜¯å°ˆç‚ºè·¨æ€§åˆ¥ã€æ€§åˆ¥å¤šå…ƒç¾¤é«”æ‰“é€ çš„æ”¯æ´èˆ‡äº¤æµå¹³å°ï¼Œæä¾›è³‡è¨Šã€è³‡æºã€æƒ…æ„Ÿæ”¯æŒèˆ‡äº’åŠ©ç¤¾ç¾¤ã€‚">
  <meta name="keywords" content="æ€§åˆ¥å¤šå…ƒ, è·¨æ€§åˆ¥, è·¨æ€§åˆ¥æ”¯æ´, LGBTQ, æ€§åˆ¥èªåŒ, æ›¦èŠ±æ—">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC&display=swap" rel="stylesheet">
  <link href="https://fonts.loli.net/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <!-- æ¥·é«”ï¼šéœé¶©æ–‡æ¥·ï¼ˆLXGW WenKaiï¼‰ï¼Œæœ‰ç¹ä¸­æ”¶å­—ï¼Œå¾ˆæ¥è¿‘æ¥·æ›¸ -->
<link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai&display=swap" rel="stylesheet">
<!-- è‰æ›¸ / è¡Œæ›¸ï¼šçŸ¥å­Ÿè¡Œ & Ma Shan Zhengï¼ˆçš†æ”¯æ´ä¸­æ—¥éŸ“å¸¸ç”¨æ¼¢å­—ï¼‰ -->
<link href="https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
<!-- ä½ æœ¬ä¾†å°±æœ‰çš„ç¹ä¸­å­—é«”ä¹Ÿå¯ä¿ç•™ï¼šNoto Serif TC -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC&display=swap" rel="stylesheet">
  <title>æ›¦èŠ±æ—</title>
  <style>
    .site-declaration{
      font-family: "Noto Sans TC", sans-serif;
    }
    body {
      background-color: #ebd8fc; /* ç´«è‰²èƒŒæ™¯ */
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #800080;
      margin-top: -10px;
    }
    
             /*é€æ˜ä¸»é */
     .intro {
      background: rgba(255, 255, 255, 0);    
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: 0 auto;
      text-align: center;
    }
    /*å±…ä¸­*/
    .intro {
     text-align: center;
    }
    /*çµæŸå±…ä¸­*/
    .flags img {
      width: 100px;
      margin: 10px;
      border-radius: 8px;
    }
    .resource-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}

.resource-list li {
  background-color: #ffb6c1;
  padding: 8px 14px;
  border-radius: 12px;
  font-size: 14px;
  white-space: nowrap;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: 0.2s;
}

.resource-list li a {
  color: white;
  text-decoration: none;
}

.resource-list li:hover {
  background-color: #ff88aa;
  transform: scale(1.05);
}
.pink-btn {
  background-color: #f8b7b7; 
  color: white;
  padding: 12px 19px;
  font-size: 15px;
  font-weight: bold;
  border: none;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);  /* æ·¡æ·¡çš„ç«‹é«”æ„Ÿ */
  transition: all 0.2s ease;
  cursor: pointer;
}

.pink-btn:hover {
  background-color: #f38a8a;
  transform: scale(1.05);
  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);  /* hover æ™‚æ›´æµ®ä¸€é» */
}
  </style>
  <style>
  /* ğŸŒ¸ æ¼¢å ¡æŒ‰éˆ•å®¹å™¨ï¼Œå›ºå®šåœ¨å³ä¸Šè§’ */
.menu-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 30px;
  height: 24px;
  cursor: pointer;
  z-index: 3000;
  background: transparent;
  border: none;
}

/* ğŸŒ¸ æ¼¢å ¡ä¸‰æ¢ç·šæ¢æ¨£å¼ */
.menu-toggle span {
  display: block;
  height: 3px;
  margin: 5px 0;
  background-color: #ff66a5; /* ç²‰è‰² */
  transition: all 0.3s ease;
}

/* ğŸŒ¸ é»æ“Šå¾Œçš„å‹•ç•«è®Š X */
.menu-toggle.active span:nth-child(1) {
  transform: translateY(8px) rotate(45deg);
}
.menu-toggle.active span:nth-child(2) {
  opacity: 0;
}
.menu-toggle.active span:nth-child(3) {
  transform: translateY(-8px) rotate(-45deg);
}

/* ğŸŒ¸ å´é‚Šé¸å–®æ¨£å¼ï¼Œé è¨­éš±è—åœ¨å³é‚Š */
.side-menu {
  position: fixed;
  top: 0;
  right: -250px; /* éš±è—åœ¨ç•«é¢å¤– */
  width: 250px;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.2); /* âœ…ç£¨ç ‚ */
  backdrop-filter: blur(10px);
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  transition: right 0.4s ease;
  z-index: 2000;
}

/* ğŸŒ¸ é»æ“Šå¾Œæ»‘å‡º */
.side-menu.open {
  right: 0;
}

/* ğŸŒ¸ é¸å–®æ–‡å­—æ¨£å¼ */
.side-menu ul {
  list-style: none;
  padding: 60px 20px;
  margin: 0;
}

.side-menu li {
  margin: 20px 0;
}
/* ğŸŒ¸ å´é‚Šé¸å–®é€£çµ */
.side-menu a {
  text-decoration: none;
  font-weight: bold;
  font-size: 18px;
  position: relative;
  display: inline-block;
  color: transparent;  /* å…ˆéš±è—æ–‡å­—è‰² */
  background: linear-gradient(90deg, #ff66a5, #fcb045); /* æ¼¸å±¤å­— */
  -webkit-background-clip: text;
  background-clip: text;
  transition: all 0.35s ease;
  font-weight: 500;
}
/* ğŸ“ç™»å…¥ã€ğŸ’–Hubï¼šå›ºå®šé¡è‰² */
.side-menu a.login-btn,
.side-menu a.hub-btn {
  color: #ff4d88 !important;   /* ğŸ“ Strawberry ç²‰ç´… */
  background: none !important;
  -webkit-background-clip: unset !important;
  background-clip: unset !important;
}

/* ğŸ’– Grove Hub å¯ä»¥çµ¦å°ˆå±¬é¡è‰² */
.side-menu a.hub-btn {
  color: #e60073 !important;   /* ğŸ’– æ¯”è¼ƒæ¿ƒçš„ç²‰ç´…ç´… */
}
/* ğŸŒ¸ æ¼¸å±¤åº•ç·š */
.side-menu a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;   /* åº•ç·šè·é›¢æ–‡å­—çš„é«˜åº¦ */
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #ff66a5, #9b5de5, #00bbf9);
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.35s ease;
}

/* ğŸŒ¸ æ»‘éæ•ˆæœï¼šå­—è·å¾®å±•é–‹ï¼Œåº•ç·šè·‘å‡ºä¾† */
.side-menu a:hover {
  letter-spacing: 1px;
  font-weight: 600;
}

.side-menu a:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/*0000000000000000000*/
.scroll-banner {
  width: 360px;
  height: 100px;
  overflow: hidden;
  margin: -10px auto 0;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  background: linear-gradient(to right, #fbaae0, #fff2fb);
  display: flex;
  align-items: center;
  position: relative;
}

/* ğŸ€ æ»¾å‹•å®¹å™¨ï¼šåŒ…å…©ä»½å…§å®¹ */
.scroll-track {
  display: flex;
  animation: scroll-marquee 25s linear infinite;
  width: max-content;
}

/* ğŸ€ å–®çµ„å…§å®¹ */
.scroll-content {
  display: flex;
  gap: 60px;
  align-items: center;
  font-size: 20px;
  font-weight: bold;
  font-family: 'ZCOOL KuaiLe', sans-serif;
  color: #aa3399;
  white-space: nowrap;
}

/* ğŸ€ åœ–ç‰‡å¯æ”¾å¤§ */
.scroll-content img {
  height: 36px;
  vertical-align: middle;
}
.scroll-banner {
  width: 360px;
  height: 100px;
  overflow: hidden;
  margin: -15px auto 0;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  background: linear-gradient(to right, #fbaae0, #fff2fb);
  display: flex;
  align-items: center;
  position: relative;
  margin-top: -10;
}

/* ğŸ€ æ»¾å‹•å®¹å™¨ï¼šåŒ…å…©ä»½å…§å®¹ */
.scroll-track {
  display: flex;
  animation: scroll-marquee 25s linear infinite;
  width: max-content;
}

/* ğŸ€ å–®çµ„å…§å®¹ */
.scroll-content {
  display: flex;
  gap: 60px;
  align-items: center;
  font-size: 24px;
  font-weight: bold;
  font-family: 'ZCOOL KuaiLe', sans-serif;
  color: #aa3399;
  white-space: nowrap;
}
.scroll-content span {
  margin-right: 60px;
}

/* ğŸ€ åœ–ç‰‡å¯æ”¾å¤§ */
.scroll-content img {
  height: 64px;
  vertical-align: middle;
}
@keyframes scroll-marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}
/*000000000000000000*/
/* ğŸ å­£ç¯€æ¨™ç±¤ï¼šå°è—¥ä¸¸æ¨£å¼ */
/* ğŸŒŸ å³ä¸Šè§’å®¹å™¨åŒ…ä½ userArea å’Œ seasonDisplay */
.top-right-fixed {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 4000;
}

/* âœ… è®“å°è—¥ä¸¸å­£ç¯€é¡¯ç¤ºæ¼‚äº®åˆä¸è·‘ç‰ˆ */
#seasonDisplay {
  font-size: 12px;
  font-weight: 600;
  color: #663399;
  padding: 4px 8px;
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(8px);
  border-radius: 999px;
  white-space: nowrap;
  max-width: 100px; /* âœ… é™åˆ¶æœ€å¤§å¯¬åº¦ */
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block; /* âœ… è®“å®ƒä¿æŒå°å°ºå¯¸ */
}

.section {
  border: none !important;
  box-shadow: none !important;
}

.section h2 {
  border: none;
  border-bottom: none;
  box-shadow: none;
  margin-bottom: 10px;
}
/*============*/
/* ğŸ‡è‘¡è„å‹•ç•«æŒ‰éˆ• */
/* è‘¡è„æŒ‰éˆ• */
.grape-button {
  font-size: 30px;
  text-align: center;
  margin: 10px auto;
  cursor: pointer;
  transition: all 0.2s ease;
  display: block;
  width: fit-content;
}

/* æ»‘éæ™‚æ”¾å¤§ */
.grape-button:hover {
  transform: scale(1.15);
}

/* å½ˆå‡ºä»‹ç´¹å®¹å™¨ï¼ˆåˆå§‹éš±è—ï¼‰ */
.grape-intro {
  display: none;
  background: linear-gradient(135deg, #fcb69f, #ff80c0); /* æ‘©æ²™æ©™ï½ç²‰è‰² */
  padding: 20px;
  border-radius: 16px;
  max-width: 600px;
  margin: 20px auto;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  animation: slideDown 0.5s ease-out;
  text-align: center;
}

/* æ»‘å‡ºå‹•ç•« */
@keyframes slideDown {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
.grape-floating {
  position: absolute;
  top: 63px;       /* æ ¹æ“šå¦³æ‹ç…§çš„ä½ç½®è‡ªå·±èª¿æ•´ä¸Šä¸‹ */
  left: 205px;     /* è‡ªå·±èª¿æ•´å·¦å³å°æº–åœ–ç‰‡ */
  margin-left: -15px;/*è‘¡è„å…§è·*/
  font-size: 30px;
  z-index: 999;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.grape-floating:hover {
  transform: scale(1.2);
}

.grape-floating:active {
  cursor: grabbing;
  transform: scale(0.95);
}
/*ä¸‹æ–‡*/
.daily-quote {
  background: linear-gradient(135deg, #6ddfff, #fe68b3, #ffffff);
  border-radius: 16px;
  padding: 16px 20px 16px 60px; /* å·¦é‚Šç©ºå‡ºä½ç½®çµ¦å…”å…”åœ– */
  margin: 20px auto;
  max-width: 390px;
  font-size: 16px;
  color: #aa3399;
  font-weight: bold;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  position: relative;
  min-height: 70px;/*60*/
  margin-bottom: 30px;/*å…¼å…·*/
}

/* å…”å…”åœ–ç‰‡é å·¦å›ºå®š */
.quote-icon {
  position: absolute;
  left: 16px;
  height: 36px;
  width: auto;
  top: 50%;
  transform: translateY(-50%);
}

/* å®¹å™¨ç•™ä½ç½®çµ¦å‹•ç•« */
.quote-container {
  flex: 1;
  height: auto; /* â—å–æ¶ˆ min-heightï¼Œè®“å…§å®¹æ’é–‹ */
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
}

/* æ¯æ¬¡åˆ‡æ›çš„æ–‡å­— */
#quoteText {
  position: relative;  /* â—å¾ absolute æ”¹æˆ relativeï¼Œæ‰ä¸æœƒè“‹ä½è¢«æˆªæ–· */
  width: 100%;
  text-align: left;
  opacity: 0;
  transition: opacity 1.2s ease-in-out, transform 0.5s ease-in-out;
  transform: translateY(0);
  font-family: 'ZCOOL KuaiLe', sans-serif;
  line-height: 1.4;
  white-space: normal;     /* âœ… å…è¨±è‡ªå‹•æ›è¡Œ */
  word-break: break-word;  /* âœ… é•·è©ä¹Ÿèƒ½æŠ˜è¡Œ */
}

#quoteText.show {
  opacity: 1;
}
.daily-quote-c {
  margin-top: -10px;
}
</style>
<style>/*æ¸¸æ¨™*/
/* é€æ˜ 1x1 æ¸¸æ¨™ï¼ˆè³‡æ–™URIï¼‰ï¼Œæ¯”å–®ç´” none æ›´ä¸æœƒè¢«ç€è¦½å™¨è‡¨æ™‚è¦†è“‹ */
:root{
  --cursor-none: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAEklEQVQImWNgYGBgYAAAAAQAARV7J8EAAAAASUVORK5CYII=') 0 0, none;
}

/* å¾¹åº•å¥—ç”¨åˆ°æ‰€æœ‰ç›’èˆ‡å½å…ƒç´  */
html, body, *, *::before, *::after{
  cursor: var(--cursor-none) !important;
}

/* ä»»ä½•åŸæœ¬æœƒæŠŠæ¸¸æ¨™æ”¹æˆ pointer / text çš„å…ƒç´ ï¼Œå¼·åˆ¶ç¹¼æ‰¿å°±ä¸æœƒè·³å›åŸç”Ÿæ¨£å¼ */
a, button, [role="button"], label, summary,
input, textarea, select, option, details, svg, canvas{
  cursor: inherit !important;
}

/* ä½ çš„è‡ªè¨‚æ¸¸æ¨™å¤–å±¤ï¼ˆä¸è®Šï¼‰ */
#cursor{
  position: fixed; left:0; top:0; width:0; height:0;
  pointer-events: none; will-change: transform; z-index: 9999;
}
/* å…§å±¤åœ–ç‰‡ï¼ˆä¸è®Šï¼‰ */
#cursor .cursor-img{
  width:32px; height:32px;
  background: url('Cute.png') center/contain no-repeat;
  transform: translate(-8px,-12px) scale(1);
  transition: transform .12s ease; 
  will-change: transform;
}
#cursor.down .cursor-img{ 
  transform: translate(-8px,-12px) scale(.9); 
}
/* é€æ˜é®ç½©ï¼šé è¨­ä¸æ“‹äº’å‹•ï¼Œä½†åœ¨æ²å‹•ç¬é–“çŸ­æš«æ¥æ‰‹ hit-test ä»¥ä¿è­‰ cursor:none ç”Ÿæ•ˆ */
#cursor-shield{
  position: fixed;
  inset: 0;
  cursor: var(--cursor-none) !important;  /* ä¸€å¾‹éš±è—ç³»çµ±æ¸¸æ¨™ */
  pointer-events: none;                   /* å¹³å¸¸ä¸æ“‹é»æ“Š/æ»‘å‹• */
  z-index: 9998;                          /* ä½æ–¼è‡ªè¨‚æ¸¸æ¨™ #cursor */
}

/* ã€Œæ²å‹•ä¸­ã€çŸ­æš«å•Ÿç”¨å‘½ä¸­ï¼ˆåªå½±éŸ¿æ¸¸æ¨™å‘½ä¸­ï¼Œä¸æœƒå½±éŸ¿æ»¾å‹•ï¼‰ */
#cursor-shield.cover{
  pointer-events: auto;                   /* è®“å®ƒæˆç‚ºå‘½ä¸­å…ƒç´ ï¼Œæ¸¸æ¨™å°±ä¸æœƒè¢«ä¸‹é¢åŸç”Ÿæ§ä»¶å¥ªå› */
}
</style>
<style>
  /* å…¨ç«™å­—é«”è®Šæ•¸ï¼ˆå¥½ç®¡ç†ï¼‰ */
  :root{
    /* æ¥·é«”ä¸»å­—é«”ï¼ˆWeb + æœ¬æ©Ÿ + ç³»çµ±å‚™æ´ï¼Œä¾åºå˜—è©¦ï¼‰ */
    --font-kai: 
      "LXGW WenKai",        /* Web æ¥·æ›¸ï¼ˆå…è²»ã€å«ç¹ä¸­ï¼‰ */
      "DFKai-SB",           /* Windows ç¹ä¸­ï¼šæ¨™æ¥·é«” */
      "BiauKai",            /* macOS ç¹ä¸­ï¼šå„·ä¸­é»‘/æ¨™æ¥· */
      "KaiTi", "STKaiti",   /* Windows/è€ macOS æ¥·é«” */
      "Kaiti TC", "Kaiti SC",  /* è˜‹æœæ–°æ¥·é«”æ— */
      "Noto Serif TC",      /* Google ç¹ä¸­æ˜é«”å‚™æ´ */
      "PingFang TC", "Heiti TC", "Microsoft JhengHei", "PMingLiU",
      "Hiragino Mincho ProN", "MS Mincho", "SimSun", serif;

    /* è‰æ›¸ / è¡Œæ›¸å„ªå…ˆï¼Œç”¨ä¸åˆ°æ™‚é€€å›æ¥·é«” */
    --font-cursive:
      "Zhi Mang Xing", "Ma Shan Zheng",
      "LXGW WenKai",
      "DFKai-SB", "BiauKai",
      "KaiTi", "STKaiti",
      "Kaiti TC", "Kaiti SC",
      "Noto Serif TC", serif;
  }

  /* ğŸ”§ å…¨å±€å¥—æ¥·é«”ï¼ˆè¦†è“‹å¸¸è¦‹å¯è¼¸å…¥å…ƒç´ ï¼›æ”¾æœ€å¾Œä¸€å€‹ <style> æ‰æœ‰ç”¨ï¼‰ */
  html, body, button, input, select, textarea {
    font-family: var(--font-kai) !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* æ¨™é¡Œæƒ³æ›´æœ‰æ¥·å‘³å¯ä»¥åŠ ç²—ä¸€é»ï¼ˆè‡ªé¸ï¼‰ */
  h1, h2, h3, h4, h5, h6 { font-weight: 700; }

  /* ğŸŒ¿ éœ€è¦è‰æ›¸/æ‰‹å¯«æ„Ÿæ™‚ï¼Œç”¨é€™å€‹ class å¥—ä¸Šå°±å¥½ */
  .cursive { font-family: var(--font-cursive) !important; }

  /* å¦‚æœä½ æœ‰è‹±æ–‡æ®µè½ï¼Œå¸Œæœ›è‹±æ–‡ä¹Ÿä¿æŒå„ªé›…ï¼Œå¯ä»¥è£œé€™å€‹ï¼ˆå¯é¸ï¼‰ */
  .latin { font-feature-settings: "liga","clig","kern"; }
</style>
<style>
  .brand-title.cursive{
    font-family: var(--font-cursive) !important;
    font-weight: 700;               /* çœ‹èµ·ä¾†æ›´æœ‰ä»½é‡ï¼›è¦ºå¾—å¤ªç²—å¯æ”¹ 600 */
    font-synthesis-weight: auto;    /* æ²’æœ‰ bold æ¬Šé‡æ™‚å…è¨±åˆæˆ */
    letter-spacing: .01em;          /* è‰æ›¸å­—è·ç¨æ”¶æ–‚ */
    line-height: 1.1;               /* è®“ç­†ç•«ä¸æ“  */
  }
  /* å…¨å±€æ¥·é«”å¼·åˆ¶æ­£å¸¸ç²—ç´° */
html, body, button, input, select, textarea {
  font-family: var(--font-kai) !important;
  font-weight: 500 !important;   /* æ­£å¸¸ç²—ç´° */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* æ¨™é¡Œå¯ä»¥å†åŠ ä¸€é»ç²—ï¼Œè®“å±¤æ¬¡æ„Ÿæ›´å¥½ */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600 !important;   /* ä¸è¦å¤ªé»‘ï¼Œå‰›å¥½æœ‰ä»½é‡ */
}
</style>
</head>
<body>
<div id="cursor-shield"></div>
<div id="cursor"><div class="cursor-img"></div></div>
  <!--æš±ç¨±é¡¯ç¤º-->
<!-- âœ… æ–°ç‰ˆï¼šæœƒè·Ÿè‘—ç•«é¢æ»‘å‹• -->
<div id="userArea" class="user-area">
  <span id="userNickname" title="YinnğŸªå¸³è™Ÿ">æš±ç¨±åŠ è¼‰ä¸­...</span>
  <button class="edit-btn" onclick="showEditNicknameOptions()" title="ä¿®æ”¹æš±ç¨±">âŒ˜</button>
  <span id="cnNickname" title="Limå¸³æˆ¶">è¼‰å…¥ä¸­...</span>
  <button class="logout-btn" onclick="showLogoutOptions()" title="ç™»å‡º">ğŸƒç™»å‡º</button>
  <button class="logout-btn" onclick="redirectBasedOnLocation()" title="ç™»å…¥æ ¹æ“šç¶²éš›ç¶²è·¯ä½ç½®Yinn/Lim">ğŸ“ç™»å…¥</button>
  <!--ç¯€ä»¤-->
 <!-- ğŸ‘‡ æ–°å¢çš„å­£ç¯€é¡¯ç¤º -->
<div id="seasonDisplay" title="åŠ è¼‰ä¸­..."></div>
</div>
<!--------------------------------->
<div style="margin-left: -15px;">
<div style="display: flex; align-items: center; gap: 10px; margin-top: -20px;">
<img src="å¯æ„›è²“è²“.png" alt="åœ–ç¤º" style="width: auto; height: 69px;">
<div>
  <h1 class="brand-title cursive" style="margin-top:13px;">æ›¦èŠ±æ—</h1>
  <p style="font-family: 'Georgia', serif; font-size: 18px; color: #663399; margin-top: -25px; margin-left: 1px;">
  Sunlit Grove
</p>
</div>
</div>
</div>
<div class="grape-floating" id="grapeButton" onclick="toggleIntro()" title="é€™æ˜¯æˆ‘çš„è‡ªæˆ‘ä»‹ç´¹">ğŸ‡</div>
</div>
<div class="grape-intro" id="grapeIntro">
  <h2>ğŸŒ¸æˆ‘å«è˜¡ç€¶ï½ä¾†è‡ªå¤¢è£¡</h2>
  <p>ä¸€ä½è·¨æ€§åˆ¥å¥³ç”Ÿ ğŸŒ¸ å–œæ­¡ç”œç”œ é•·è£™ï¼Œä¹Ÿæœ‰ä¸€é»ç¥ç¥•ï½ğŸ’­</p>
  <p>ä¸¦ç›¸ä¿¡æ¯ä¸€å€‹éˆé­‚éƒ½æœ‰å®ƒè©²ç››é–‹çš„æ™‚ç¯€ã€‚</p>
  <p>é€™è£¡æ˜¯æˆ‘çš„ç§˜å¯†èŠ±åœ’ï¼Œè¨˜éŒ„æˆ‘çš„è½‰è®Šã€å¤¢æƒ³èˆ‡æˆé•·ï½â™¡ã€‚</p>
  <div class="flags">
    <img src="transgender-flag.png" alt="è·¨æ€§åˆ¥æ——å¹Ÿ">
    <img src="lesbian-flag.png" alt="å¥³åŒæ——å¹Ÿ">
    <img src="rainbow-flag.png" alt="å½©è™¹æ——">
  </div>
</div>
<!--0000000000000000000-->
<div class="daily-quote-c">
<div class="daily-quote">
  <img src="favicon.ico" alt="å…”å…”" class="quote-icon">
  <div class="quote-container">
    <span id="quoteText">ã€Œå¦³å€¼å¾—æº«æŸ”ä»¥å¾…ï¼Œç„¡è«–ä¸–ç•Œå¤šå–§é¬§ã€‚ã€</span>
  </div>
</div>
<!-- âœ… å»£å‘Šå€å®¹å™¨ -->
<div class="scroll-banner">
  <div class="scroll-track">
    <div class="scroll-content">
      <span><img src="/å»£å‘Š.png" alt="æ›¦èŠ±æ—" style="height: 64px;">æ–°å¢äº†æ›¦èŠ±æ—YinnTownå¿«é»ä¾†çœ‹çœ‹å§ï¼</span>
      <span>ğŸ‰ æ–°å¢å¤šGrove Storeï¼âœ¨</span>
      <span>âœ¨ æ–°å¢Grove Hubå¹³å°</span>
      <span>âœ¨ æœ‰æ–°è¡¨æƒ…è²¼åœ–å–µï½</span>
      <span><img src="./å»£å‘Š.png" alt="æ›¦èŠ±æ—LimTown" style="height: 64px;">ğŸ“¢NEW æ–°å¢äº†æ›¦èŠ±æ—LimTownå¿«é»ä¾†çœ‹çœ‹å§ï¼</span>
      <span>ğŸ“æ–°å¢å¥³æ€§å­¸å­¸æœƒéˆæ¥å–”ï½</span>
    </div>
    <!-- ç¬¬äºŒä»½å…§å®¹ä¸€æ¨¡ä¸€æ¨£ï¼Œè£½é€ ç„¡ç¸«æ„Ÿ -->
    <div class="scroll-content">
     <span><img src="/å»£å‘Š.png" alt="æ›¦èŠ±æ—" style="height: 64px;">æ–°å¢äº†æ›¦èŠ±æ—yinnTownå¿«é»ä¾†çœ‹çœ‹å§ï¼</span>
      <span>ğŸ‰ æ–°å¢Grove storeï¼âœ¨</span>
      <span>âœ¨ æ–°å¢Grove Hubå¹³å°</span>
     <span>âœ¨ æœ‰æ–°è¡¨æƒ…è²¼åœ–å–µï½</span>
     <span><img src="./å»£å‘Š.png" alt="æ›¦èŠ±æ—LimTown" style="height: 64px;">ğŸ“¢NEW æ–°å¢äº†æ›¦èŠ±æ—LimTownå€å¿«é»ä¾†çœ‹çœ‹å§ï¼</span>
     <span>ğŸ“æ–°å¢å¥³æ€§å­¸å­¸æœƒéˆæ¥å–”ï½</span>
    </div>
  </div>
</div>
</div>
<!--00000000000000000000-->
<script>
const quotes = [
  "ã€Œå¦³å€¼å¾—æº«æŸ”ä»¥å¾…ï¼Œç„¡è«–ä¸–ç•Œå¤šå–§é¬§ã€‚ã€",
  "ã€Œé¡˜å¦³çš„å¿ƒï¼Œæ°¸é æŸ”è»Ÿåˆå …å®šã€‚ã€",
  "ã€Œä½¿ç”Ÿå¦‚å¤èŠ±ä¹‹çµ¢çˆ›ï¼Œæ­»å¦‚ç§‹è‘‰ä¹‹éœç¾ã€",
  "ã€Œä»Šå¤©ä¹Ÿè«‹å°è‡ªå·±å¥½ä¸€é»â™¡ã€",
  "ã€Œäººç”Ÿä¸‹ä¾†ä¸æ˜¯ç‚ºäº†æ‹–è‘—é–éˆï¼Œè€Œæ˜¯ç‚ºäº†å±•é–‹é›™ç¿¼ã€‚ã€",
  "ã€Œçœ¼ç›ç‚ºå¥¹ä¸‹ç€é›¨ï¼Œå¿ƒå»ç‚ºå¥¹æ‰“ç€å‚˜ï¼Œé€™å°±æ˜¯æ„›æƒ…ã€‚ã€",
  "ã€Œè¨˜å¾—ï½é€™ä¸–ç•Œé‚„æœ‰å¦³å°ˆå±¬çš„æº«æŸ”ã€‚ã€",
  "ã€Œäººç”Ÿçš„æ„ç¾©ä¸åœ¨æ–¼ç•™ä¸‹ä»€éº¼ï¼Œåªè¦ä½ ç¶“æ­·éï¼Œå°±æ˜¯æœ€å¤§çš„ç¾å¥½ï¼Œé€™ä¸æ˜¯ç„¡èƒ½ï¼Œè€Œæ˜¯ä¸€ç¨®è¶…ç„¶ã€‚ã€",
  "ã€Œé™½å…‰æœƒå†ç…§é€²ä¾†ï¼Œå¤¢ä¹Ÿæœƒé–‹èŠ±ã€‚ã€"
];

let currentIndex = 0;
const quoteEl = document.getElementById("quoteText");

function showNextQuote() {
  quoteEl.classList.remove("show"); // æ·¡å‡º

  setTimeout(() => {
    quoteEl.textContent = quotes[currentIndex];
    quoteEl.classList.add("show"); // æ·¡å…¥

    currentIndex = (currentIndex + 1) % quotes.length;
  }, 800); // èˆ‡ transition æ™‚é–“ç›¸ç¬¦ï¼Œå»¶é²åˆ‡æ›å…§å®¹
}

showNextQuote(); // åˆå§‹é¡¯ç¤º
setInterval(showNextQuote, 6000); // æ¯ 5 ç§’åˆ‡æ›
</script>
<!------------------------->
<a href="/Help.yinnlim/help.html" class="cute-button" title="æˆ‘æ˜¯ä¸€å€‹æ”¯æ´ä¸­å¿ƒ">Grove Hub</a>
<style>
  .cute-button {
    display: inline-block;
    padding: 10px 20px;
    background-color: #ffb6c1; /* ç²‰è‰² */
    color: white;
    text-decoration: none;
    border-radius: 10px;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    transition: all 0.2s ease-in-out;
  }

  .cute-button:hover {
    background-color: #ff8fab; /* æ¯”è¼ƒæ·±çš„ç²‰è‰² */
    transform: scale(1.10); /* å¾®å¾®æ”¾å¤§ */
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
  }
  form {
  max-width: 400px;
  margin: 20px auto;
  background: #ffeaf0;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  font-family: 'Noto Sans TC', sans-serif;
}

input, textarea {
  width: 100%;
  padding: 8px;
  margin-bottom: 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
}

button {
  background: #ff88aa;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  background: #ff6699;
}
/*ä¿®æ”¹æš±ç¨±*/
button.edit-btn {
  border: none;
  background: none;
  font-size: 16px;
  cursor: pointer;
  padding: 0 4px;
  color: #663399;
  transition: transform 0.2s ease;
}
button.edit-btn:hover {
  transform: scale(1.2);
}
/*ç™»å‡º*/
.logout-btn {
  background: transparent;
  border: none;
  color: #663399;
  font-size: 16px;
  cursor: pointer;
  padding: 4px 8px;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.logout-btn:hover {
  opacity: 0.8;
}

.logout-btn:active {
  transform: scale(1.15); /* é»æ“Šæ™‚æ”¾å¤§ä¸€é» */
}
/**/
.logout-btn {
  background: transparent;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #663399;
  transition: transform 0.2s ease;
  padding: 0;
}

.logout-btn:hover {
  transform: scale(1.2);
  background: transparent; /* ç¢ºä¿æ‡¸åœæ™‚ä¸è®Šè‰² */
}
/*æš±ç¨±æ§åˆ¶------------------------------------*/
.user-area {
  font-weight: bold;
  color: #663399;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
/*==================*/
.logout-btn {
  background: transparent;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #663399;
  transition: transform 0.2s ease;
  padding: 0;
}

.logout-btn:hover {
  transform: scale(1.2);
  background: transparent; /* ç¢ºä¿æ‡¸åœæ™‚ä¸è®Šè‰² */
}

.lim-town-label {
  display: inline-flex;
  flex-direction: column;
  line-height: 1;
  margin-right: 4px;
  align-items: center;
  font-weight: bold;
  font-size: 12px;
  vertical-align: middle;
}

.lim-town-label .lim {
  font-size: 14px;
}

.lim-town-label .town {
  font-size: 10px;
  color: #888; /* æˆ–ä½ æƒ³ç”¨çš„é¡è‰² */
}

</style>
  <!-- ğŸ”˜ é–‹å•ŸæŒ‰éˆ• -->
<button class="pink-btn" onclick="openModal()">åé¥‹èˆ‡å»ºè­° ğŸ’Œ</button>

<!-- ğŸŒ¸ å½ˆå‡ºè¦–çª— Modal -->
<div id="feedbackModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:1000;">
  <div style="background-color:#ffeaf0; max-width:400px; margin: 10% auto; padding: 20px; border-radius:12px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); position:relative;">
    <span onclick="closeModal()" style="position:absolute; top:10px; right:14px; cursor:pointer; font-weight:bold;">âŒ</span>
    
    <!-- âœ¨ è¡¨å–®æœ¬é«” -->
   <form action="https://api.web3forms.com/submit" method="POST">
  <input type="hidden" name="access_key" value="680815be-deec-4579-b8d6-514f8fde4e92">

  <input type="text" name="name" placeholder="ä½ çš„åå­—" required style="width:100%; padding:8px; margin-bottom:10px;">
  <input type="email" name="email" placeholder="ä½ çš„éƒµç®±" required style="width:100%; padding:8px; margin-bottom:10px;">
  <textarea name="message" placeholder="å¦³çš„æ„è¦‹èˆ‡åé¥‹ï½â™¡" required rows="4" style="width:100%; padding:8px; border-radius:6px;"></textarea>

  <button type="submit" style="margin-top:10px; padding:10px 18px; background-color:#ff88aa; color:white; border:none; border-radius:4px;">
    é€å‡ºåé¥‹ ğŸ’Œ
  </button>
</form>
<p id="feedbackSuccess" style="display:none; color:green; margin-top:10px;">
  âœ… åé¥‹å·²æˆåŠŸé€å‡ºï¼Œæ„Ÿè¬å¦³çš„æ„è¦‹ â™¡
</p>
<!--åé¥‹é‘°åŒ™-->
  </div>
</div>
   <h3> <img src="./img-è²“è²“.png"alt="è²“è²“"style="width: 69px;vertical-align:middle;"> 
   è²“è²“åœ¨é€™è£¡é™ªå¦³<sub>ä½ </sub>å–µï½ä¸ç®¡å¤šé›£çš„äº‹éƒ½æœƒè®Šè¼•æŸ”ä¸€é»ğŸ¥¹ğŸ±ğŸ’</h3>
<div class="section">
  <h2><img src="./yinnlim.png"alt="å°åœŸè±†"> æ”¯æ´è³‡æºæ¨è–¦</h2>
    <ul class="resource-list">
      <li>
      <a href="Help.yinnlim/ll.html"targe="_self" rel="noopener"onclick="window.open(this.href, '_self'); return false;">å¯¦ç”¨ç­†è¨˜</a>
    </li>
      <li><a href="https://lgbtqia.wiki/" targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">LGBTQIA+ ç¶­åŸºè³‡æº</a></li> 
      <li> <a href="https://www.gender.edu.tw/web/index.php/home"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">æ€§åˆ¥å¹³ç­‰æ•™è‚²å…¨çƒè³‡è¨Šç¶²</a></li>
      <li><a href="https://www.gender.ey.gov.tw/" targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">æ€§åˆ¥å¹³ç­‰æ•™è‚²ç¶²ç«™<sup>Taiwan</sup></a></li>
      <li><a href="https://twfeminist.org"targe=targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">å¥³æ€§å­¸å­¸æœƒ<sup>Taiwan</sup></a></li>
      <li><a href="https://transgender.tapcpr.org/"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">ä¼´ç›ŸNGO<sup>Taiwan</sup></a></li>
      <li><a href="https://mtf.wiki/"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">MTFç¶­åŸº</a></li>
      <li><a href="https://ftm.wiki/"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">FTMç¶­åŸº</a></li>
      <li><a href="https://docs.hrt.Guide"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;"><sup>è—¥ç‰©</sup>GAHT Guide</a></li>
     <li><a href="https://digital.transchinese.org/ç¤¾ç¾¤åŠNGOæ–‡ä»¶/"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">å¤šå…ƒæ€§åˆ¥æª”æ¡ˆ</a></li>
    
    <li>
      <a href="https://viva-la-vita.org"targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;">ç”Ÿå¦‚å¤èŠ±<sub>æ€§çŸ¥è­˜</sub></a>
    </li>
     
     <li><a href="https://www.gaga.tw/" targe="_blank" rel="noopener"onclick="window.open(this.href, '_blank'); return false;" title="Helloæˆ‘æ˜¯ä¸€å€‹éŸ³å½±å¹³å°">GagaOOLala</a></li>
    </ul>
  </div>
    
     
  
  <!-- ğŸŒ¸ æ¼¢å ¡æŒ‰éˆ• -->
<div class="menu-toggle" onclick="toggleMenu()">
  <span></span>
  <span></span>
  <span></span>
</div>
<!-- ğŸŒ¸ å´é‚Šé€æ˜é¸å–® -->
<nav class="side-menu" id="sideMenu">
  <ul>
    <li><a href="index.html">é¦–é Home page</a></li>   
    <li>
  <a href="javascript:void(0);" onclick="showTownLoginModal()" class="login-btn">
    <span class="lim-town-label">
      <span class="lim">Yinn</span>
      <span class="town">Lim</span>
    </span>ğŸ“ ç™»å…¥ï¼è¨»å†Š
  </a>
</li>

    <a href="/Diverse/misseng.html"><span class="lim-town-label">
      <span class="lim">Yinn</span>
      <span class="town">Town</span>
    </span>
    æ›¦èŠ±æ—<sup>NEW</sup>
  </a>
</li>
    <li>
  <a href="/Lim/LimCn.html"><span class="lim-town-label">
      <span class="lim">Lim</span>
      <span class="town">Town</span>
    </span>
    æ›¦èŠ±æ—<sup>NEW</sup>
  </a></li>
  <li><a href="/Help.yinnlim/help.html" class="hub-btn">Grove Hub<sup>ğŸ’–</sup></a></li>
    <li><a href="/live/shopping.html">Grove Store</a></li>
    <li><a href="/live/constitution.html">ç¶²ç«™ç”³æ˜</a></li>
    <li><a href="About thisn site.html">è²¬ä»»ç”³æ˜</a></li>
     <li><a href="Emoticon pack.html">å¯æ„›è¡¨æƒ…</a></li>
  </ul>
</nav>
<script>
  function goToNicknameSettings() {
    localStorage.setItem("previousPage", window.location.pathname);

    // æ ¹æ“šç›®å‰é é¢çš„ä½ç½®ä¾†æ±ºå®šæ­£ç¢ºè·³è½‰ä½ç½®
    const settingsPath = window.location.pathname.includes("/Diverse/")
      ? "../settings.html"
      : "settings.html";

    window.location.href = settingsPath;
  }
</script>
<!--Féˆæ¥-->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<!------------------------------------->
  <script>
  function openModal() {
    document.getElementById('feedbackModal').style.display = 'block';
  }

  function closeModal() {
    document.getElementById('feedbackModal').style.display = 'none';
  }
<!--æ¼¢å ¡æ§åˆ¶-->
function toggleMenu() {
  document.querySelector('.menu-toggle').classList.toggle('active');
  document.getElementById('sideMenu').classList.toggle('open');
}
  const feedbackForm = document.querySelector("#feedbackModal form");
  const successMsg = document.getElementById("feedbackSuccess");
  const modal = document.getElementById("feedbackModal");

  feedbackForm.addEventListener("submit", function (e) {
    e.preventDefault();

    const formData = new FormData(feedbackForm);

    fetch("https://api.web3forms.com/submit", {
      method: "POST",
      body: formData
    })
    .then(response => {
      if (response.ok) {
        successMsg.style.display = "block"; // é¡¯ç¤ºæˆåŠŸè¨Šæ¯

        // æ¸…ç©ºè¡¨å–®
        feedbackForm.reset();

        // å¹¾ç§’å¾Œè‡ªå‹•é—œé–‰è¦–çª—
        setTimeout(() => {
          successMsg.style.display = "none";
          modal.style.display = "none";
        }, 3000); // 3 ç§’å¾Œè‡ªå‹•é—œé–‰
      } else {
        alert("é€å‡ºå¤±æ•—ï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼");
      }
    })
    .catch(error => {
      alert("é€å‡ºéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç¶²è·¯æˆ–å†è©¦ä¸€æ¬¡ï¼");
    });
  });

  // ğŸ‘‰ é¡¯ç¤ºç™»å…¥å½ˆçª—
function showTownLoginModal() {
  document.getElementById("townLoginModal").style.display = "flex";
}

function hideTownLoginModal() {
  document.getElementById("townLoginModal").style.display = "none";
}
  /*æš±ç¨±æ§åˆ¶*/
const firebaseConfig = {
  apiKey: "AIzaSyBkLJKrOdTgk4uf58jpciJIHm9hEYQUFCw",
  authDomain: "yinnlim-mgsg-wall.firebaseapp.com",
  projectId: "yinnlim-mgsg-wall",
  storageBucket: "yinnlim-mgsg-wall.firebasestorage.app",
  messagingSenderId: "811614776183",
  appId: "1:811614776183:web:d0b11607a54b5a4d8a0f72"
};
firebase.initializeApp(firebaseConfig);
/*åˆå§‹åŒ–*/
firebase.auth().onAuthStateChanged(user => {
  if (user) {
    document.getElementById("userNickname").textContent = user.displayName || "æœªè¨­å®šæš±ç¨±";
  } else {
    document.getElementById("userNickname").innerHTML = '<span style="font-size: 15px;"><sup>Yinn<sup></span>ğŸªæœªç™»å…¥';
  }
});

//ç™»å‡º------------------------------------------------
function logout() {
  firebase.auth().signOut().then(() => {
    alert("å·²ç™»å‡ºï¼");
    window.location.href = "/Diverse/login.html"; // â¬…ï¸ ç™»å‡ºå¾Œå°å‘ç™»å…¥é ï¼Œæ ¹æ“šä½ å¯¦éš›æª”æ¡ˆä½ç½®èª¿æ•´
  }).catch((error) => {
    alert("ç™»å‡ºå¤±æ•—ï¼š" + error.message);
  });
}
</script>
<!-- âœ… å¼•å…¥ SunCalc å‡½å¼åº« -->
<script src="https://cdn.jsdelivr.net/npm/suncalc@1.9.0/suncalc.js"></script>
<!--ç¯€ä»¤-->
<script>
function equationOfTime(date) {
  const dayOfYear = Math.floor(
    (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) -
      Date.UTC(date.getFullYear(), 0, 0)) /
      86400000
  );

  // NOAA ç²¾ç°¡å‡æ™‚å·®å…¬å¼ï¼ˆå–®ä½ï¼šåˆ†é˜ï¼‰
  const B = (2 * Math.PI * (dayOfYear - 81)) / 364;
  const E = 9.87 * Math.sin(2 * B) - 7.53 * Math.cos(B) - 1.5 * Math.sin(B);
  return E; // å–®ä½ï¼šåˆ†é˜
}

function updateSeasonAndSunTime() {
  const now = new Date();
  const month = now.getMonth() + 1;
  let seasonText = "";

  if (month >= 3 && month <= 5) {
    seasonText = "æ˜¥å­£ ğŸŒ±";
  } else if (month >= 6 && month <= 8) {
    seasonText = "å¤å­£ ğŸ–ï¸";
  } else if (month >= 9 && month <= 11) {
    seasonText = "ç§‹å­£ ğŸ‚";
  } else {
    seasonText = "å†¬å­£ ğŸŒ¨ï¸";
  }

  const seasonDiv = document.getElementById("seasonDisplay");
  seasonDiv.textContent = seasonText;
  seasonDiv.title = "çœŸå¤ªé™½æ™‚åŠ è¼‰ä¸­...";

  if (!navigator.geolocation) {
    seasonDiv.title = "ç„¡æ³•å–å¾—å®šä½";
    return;
  }

  navigator.geolocation.getCurrentPosition(
    (pos) => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;

      const eqTime = equationOfTime(now); // å‡æ™‚å·®ï¼ˆåˆ†é˜ï¼‰
      const standardMeridian = Math.round(lon / 15) * 15; // å››æ¨äº”å…¥åˆ°æœ€è¿‘æ•´é»æ™‚å€
      const lonCorrection = 4 * (lon - standardMeridian); // ç¶“åº¦ä¿®æ­£ï¼ˆåˆ†é˜ï¼‰

      const localTimeMinutes = now.getHours() * 60 + now.getMinutes();
      const trueSolarMinutes = localTimeMinutes + eqTime + lonCorrection;

      let tsHours = Math.floor(trueSolarMinutes / 60) % 24;
      if (tsHours < 0) tsHours += 24;

      let tsMinutes = Math.round(trueSolarMinutes % 60);
      if (tsMinutes < 0) tsMinutes += 60;

      seasonDiv.title = `çœŸå¤ªé™½æ™‚ï¼šç´„ ${tsHours.toString().padStart(2, "0")}:${tsMinutes
        .toString()
        .padStart(2, "0")} åˆ†`;
    },
    () => {
      seasonDiv.title = "ç„¡æ³•å–å¾—å®šä½";
    }
  );
}

updateSeasonAndSunTime();
//ä¸­åœ‹å€
function redirectBasedOnLocation() {
  fetch("https://ipapi.co/json/")
    .then(res => res.json())
    .then(data => {
      const country = data.country_code;
      if (country === "CN") {
        // åœ¨ä¸­åœ‹ â†’ è·³è½‰åˆ°å­è³‡æ–™å¤¾å…§çš„ç™»å…¥é 
        window.location.href = "/Lim/limlongin/login.html";
      } else {
        // å…¶ä»–åœ‹å®¶ â†’ è·³è½‰åœ‹éš›ç‰ˆç™»å…¥é 
        window.location.href = "/Diverse/login.html";
      }
    })
    .catch(() => {
      // ç„¡æ³•åˆ¤æ–·ä½ç½®æ™‚ï¼Œé è¨­è·³åœ‹éš›ç‰ˆ
      window.location.href = "/Diverse/login.html";
    });
}
</script>
<!-- å¼•å…¥ LeanCloud -->
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.15.0/dist/av-min.js"></script>
<script>
  AV.init({
    appId: "jxPF13ZiTBmbFt75fXRnYs42-gzGzoHsz",
    appKey: "ydXYcG0fGtWLgWetR0szCygQ",
    serverURL: "https://jxpf13zi.lc-cn-n1-shared.com"
  });

  // å˜—è©¦å–å¾—ç›®å‰ä½¿ç”¨è€…
  const currentUser = AV.User.current();
  if (currentUser) {
    const nickname = currentUser.get("nickname") || "æœªè¨­å®šæš±ç¨±";
    document.getElementById("cnNickname").innerHTML = `<span style="font-size: 13px;"><sup>Lim</sup>â‡¢</span>${nickname}`;
  } else {
   document.getElementById("cnNickname").innerHTML = '<span style="font-size:13px;"><sup>Lim</sup>â‡¥æœªç™»å…¥</span>';
  }
  //ç™»å‡º
  function showLogoutOptions() {
  document.getElementById("logoutOptions").style.display = "block";
}

function closeLogoutOptions() {
  document.getElementById("logoutOptions").style.display = "none";
}

// âœ… ç™»å‡º Firebase (Yinn)
function logoutYinn() {
  firebase.auth().signOut().then(() => {
    alert("YinnğŸªå¸³æˆ¶å·²ç™»å‡ºï¼");
    window.location.href = "/Diverse/login.html";
  }).catch((error) => {
    alert("Yinnç™»å‡ºå¤±æ•—ï¼š" + error.message);
  });
}

// âœ… ç™»å‡º LeanCloud (Lim)
function logoutLim() {
  AV.User.logOut();
  alert("LimğŸ“å¸³æˆ¶å·²ç™»å‡ºï¼");
  window.location.href = "/Lim/limlongin/login.html";
}


//æš±ç¨±
function showEditNicknameOptions() {
  document.getElementById("nicknameOptions").style.display = "block";
}
function closeNicknameOptions() {
  document.getElementById("nicknameOptions").style.display = "none";
}
function editYinnNickname() {
  window.location.href = "/Diverse/settings.html";
}
function showLimNicknameInput() {
  document.getElementById("nicknameOptions").style.display = "none";
  document.getElementById("limNicknameBox").style.display = "block";
}
function updateLimNickname() {
  const newName = document.getElementById("newLimNickname").value.trim();
  if (!newName) {
    alert("è«‹è¼¸å…¥æ–°æš±ç¨±ï¼");
    return;
  }

  const currentUser = AV.User.current();
  if (!currentUser) {
    alert("å°šæœªç™»å…¥ Lim ğŸ“ å¸³æˆ¶");
    return;
  }

  currentUser.set("nickname", newName);
  currentUser.save().then(() => {
    alert("Lim ğŸ“ æš±ç¨±å·²æ›´æ–°ï¼");
    document.getElementById("limNicknameBox").style.display = "none";
    document.getElementById("cnNickname").innerHTML = `<span style="font-size: 13px;"><sup>Lim</sup>â‡¢</span>` + newName;
  }).catch(err => {
    alert("æ›´æ–°å¤±æ•—ï¼š" + err.message);
  });
}

//===================
function toggleIntro() {
    const intro = document.getElementById('grapeIntro');
    if (intro.style.display === 'none' || intro.style.display === '') {
      intro.style.display = 'block';
    } else {
      intro.style.display = 'none';
    }
  }
</script>
<script>//æ¸¸æ¨™
const cursor = document.getElementById('cursor');
let lastX = 0, lastY = 0, ticking = false;

function onPointerMove(e){
  lastX = e.clientX; lastY = e.clientY;
  if (!ticking){
    requestAnimationFrame(()=>{
      cursor.style.transform = `translate3d(${lastX}px, ${lastY}px, 0)`;
      ticking = false;
    });
    ticking = true;
  }
}
function onScroll(){
  cursor.style.transform = `translate3d(${lastX}px, ${lastY}px, 0)`;
}
function onDown(){ cursor.classList.add('down'); }
function onUp(){   cursor.classList.remove('down'); }
function forceHideNative(){
  document.documentElement.style.setProperty('cursor','var(--cursor-none)','important');
  document.body.style.setProperty('cursor','var(--cursor-none)','important');
}
window.addEventListener('focus', forceHideNative);
document.addEventListener('visibilitychange', ()=> { if (!document.hidden) forceHideNative(); });
document.addEventListener('mouseenter', forceHideNative);
document.addEventListener('pointermove', onPointerMove, { passive:true });
document.addEventListener('pointerdown', onDown);
document.addEventListener('pointerup',   onUp);
document.addEventListener('scroll',      onScroll, { passive:true });
document.addEventListener('wheel',       onScroll, { passive:true });

// --- é˜²æ­¢æ»¾è¼ª/æ²å‹•æ™‚å†’å‡ºåŸç”Ÿæ¸¸æ¨™ï¼šçŸ­æš«é–‹å•Ÿ shield å‘½ä¸­ ---
const shield = document.getElementById('cursor-shield');
let shieldTimer = null;

// å•Ÿç”¨é®ç½©ä¸€å°æ®µæ™‚é–“
function coverShield(ms = 180){
  if (!shield) return;
  shield.classList.add('cover');
  clearTimeout(shieldTimer);
  shieldTimer = setTimeout(()=> shield.classList.remove('cover'), ms);
}

// åœ¨æœƒå‡ºç¾é–ƒçˆçš„æ™‚æ©Ÿå•Ÿç”¨ï¼ˆwheel/scroll/gestureï¼‰
document.addEventListener('wheel',  () => coverShield(0), {passive:true});
document.addEventListener('scroll', () => coverShield(0), {passive:true});

// ä½¿ç”¨è€…ä¸€æ—¦æŒ‰ä¸‹æˆ–é€²å…¥é é¢ï¼Œå°±é—œæ‰é®ç½©é¿å…æ“‹äº’å‹•
document.addEventListener('pointerdown', () => shield.classList.remove('cover'), {passive:true});
document.addEventListener('mouseenter',  () => shield.classList.remove('cover'), {passive:true});

// å†ä¿éšªï¼šè¦–çª—å›ç„¦æˆ–å¯è¦‹æ™‚ï¼Œé‡æ–°è“‹ä¸€æ¬¡ noneï¼ˆä½ å·²ç¶“æœ‰ forceHideNative ä¹ŸOKï¼‰
window.addEventListener('focus', () => coverShield(120));
document.addEventListener('visibilitychange', () => { if (!document.hidden) coverShield(120); });
</script>
<!--=================-->
<p style="text-align: center; font-size: 13px; color: #999; margin-top: 40px;">
  ğŸ¾ Â© 2024 yinnlimçš„å°å®‡å®™ï½œå…§å®¹èˆ‡è¨­è¨ˆçš†ç”±ç³–ç³–æœ¬äººç”¨æ„›è£½ä½œ ğŸ’<br>
  æœªç¶“æˆæ¬Šè«‹å‹¿éš¨æ„ä½¿ç”¨ã€ç›œè½‰å–” ğŸ™…â€â™€ï¸ è¬è¬ä½ çš„å°Šé‡èˆ‡æº«æŸ” ğŸ’Œ
</p>
<!-- ğŸ” ç™»å‡ºé¸æ“‡å½ˆå‡ºè¦–çª— -->
<div id="logoutOptions" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:9999;">
  <div style="background-color:#fffafc; max-width:320px; margin: 20% auto; padding: 20px; border-radius:12px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); text-align: center;">
    <h3 style="color:#663399;">è«‹é¸æ“‡è¦ç™»å‡ºçš„å¸³æˆ¶</h3>
    <button onclick="logoutYinn()" style="margin:8px; padding:10px 18px; background-color:#dab6ff; color:white; border:none; border-radius:6px;">YinnğŸªå¸³æˆ¶</button>
    <button onclick="logoutLim()" style="margin:8px; padding:10px 18px; background-color:#ffb6b6; color:white; border:none; border-radius:6px;">LimğŸ“å¸³æˆ¶</button>
    <br><br>
    <button onclick="closeLogoutOptions()" style="padding:8px 12px; background-color:#ccc; color:#333; border:none; border-radius:6px;">å–æ¶ˆ</button>
  </div>
</div>
<!--æš±ç¨±åŠŸèƒ½-->
<!-- âœ… æš±ç¨±ä¿®æ”¹å½ˆçª— -->
<div id="nicknameOptions" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:9999;">
  <div style="background:#fff; max-width:300px; margin:20% auto; padding:20px; border-radius:12px; text-align:center;">
    <h3 style="color:#663399;">è«‹é¸æ“‡è¦ä¿®æ”¹çš„å¸³æˆ¶æš±ç¨±</h3>
    <button onclick="editYinnNickname()" style="margin:8px; padding:8px 14px; background:#dab6ff; color:#fff; border:none; border-radius:6px;">Yinn Town ğŸª</button>
    <button onclick="showLimNicknameInput()" style="margin:8px; padding:8px 14px; background:#ffb6b6; color:#fff; border:none; border-radius:6px;">Lim Town ğŸ“</button>
    <br><br>
    <button onclick="closeNicknameOptions()" style="padding:6px 10px; background:#ccc; border:none; border-radius:6px;">å–æ¶ˆ</button>
  </div>
</div>

<!-- âœ… Lim æš±ç¨±è¼¸å…¥å½ˆçª— -->
<div id="limNicknameBox" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:10000;">
  <div style="background:#fff; max-width:300px; margin:25% auto; padding:20px; border-radius:12px; text-align:center;">
    <h3 style="color:#663399;">ä¿®æ”¹ Lim ğŸ“ æš±ç¨±</h3>
    <input type="text" id="newLimNickname" placeholder="è¼¸å…¥æ–°æš±ç¨±" style="padding:8px; width:80%; border-radius:6px; margin-bottom:10px;">
    <br>
    <button onclick="updateLimNickname()" style="background:#ff88aa; color:white; border:none; padding:8px 12px; border-radius:6px;">é€å‡º</button>
    <br><br>
    <button onclick="document.getElementById('limNicknameBox').style.display='none'" style="padding:6px 10px; background:#ccc; border:none; border-radius:6px;">å–æ¶ˆ</button>
  </div>
</div>

<!-- ğŸŒˆ ç™»å…¥é¸å–®å½ˆçª— -->
<div id="townLoginModal"
  style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;">
  <div style="background: linear-gradient(135deg, #5BCEFA, #F5A9B8, #FFFFFF, #F5A9B8, #5BCEFA); padding: 20px; border-radius: 12px; text-align: center; max-width: 300px; width: 90%;">
    <h2 style="margin-bottom: 16px; color: #663399;">è«‹é¸æ“‡ç™»å…¥çš„å¸³æˆ¶</h2>
    <button onclick="location.href='/Diverse/login.html'" style="margin: 10px; padding: 10px 20px; border-radius: 10px; border: none; background: white; color: #5BCEFA; font-weight: bold;">Yinn Town</button>
    <button onclick="location.href='/Lim/limlongin/login.html'" style="margin: 10px; padding: 10px 20px; border-radius: 10px; border: none; background: white; color: #F5A9B8; font-weight: bold;">Lim Town</button>
    <br><br>
    <button onclick="hideTownLoginModal()" style="margin-top: 10px; font-size: 14px; background: none; border: none; color: #fff; text-decoration: underline;">å–æ¶ˆ</button>
  </div>
</div>
</body>
</html>